
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <style>
        /* Your existing styles go here */

        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        h1, h2 {
            color: #333;
        }

        button {
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #userInfo {
            margin-top: 20px;
        }

        .mt-auto {
            margin-top: auto;
        }

        footer {
            background-color: #f8f8f8;
            border-top: 1px solid #e0e0e0;
            padding: 20px 0;
        }

        footer a {
            color: #333;
            text-decoration: none;
        }

        footer a:hover {
            color: #555;
        }

        .flex {
            display: flex;
        }

        .justify-between {
            justify-content: space-between;
        }

        .gap-5 {
            gap: 5px;
        }

        .text-slate-600 {
            color: #6b7280;
        }

        .hover\:text-slate-700:hover {
            color: #4b5563;
        }

        .max-w-[1280px] {
            max-width: 1280px;
        }

        .mx-auto {
            margin-left: auto;
            margin-right: auto;
        }

        .px-6 {
            padding-left: 1.5rem;
            padding-right: 1.5rem;
        }

        .h-5 {
            height: 1.25rem;
        }

        .w-5 {
            width: 1.25rem;
        }

        .mr-1\.5 {
            margin-right: 0.375rem;
        }

        .bg-transparent {
            background-color: transparent;
        }

        .border-0 {
            border: 0;
        }

        .m-0 {
            margin: 0;
        }

        .p-0 {
            padding: 0;
        }
    </style>
</head>
<body>
    <h1>Dashboard Overview</h1>
    <h2 id="welcomeMessage"></h2>
    <button onclick="fetchUserDetails()">Fetch User Details</button>
    <div id="userInfo"></div>

    <!-- Footer Section -->
    <div class="mt-auto py-8">
        <footer>
            <div class="max-w-[1280px] mx-auto px-6">
                <div class="flex justify-between text-slate-600 hover:text-slate-700">
                    <div class="flex gap-5">
                        <div>
                            <a href="https://feedback.render.com" target="_blank" rel="noreferrer" class="text-slate-600 hover:text-slate-700">
                                <svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1.5">
                                    <!-- SVG content for the Feedback link -->
                                </svg>Feedback
                            </a>
                        </div>
                        <div>
                            <a class="text-slate-600 hover:text-slate-700" href="/invites">
                                <svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1.5">
                                    <!-- SVG content for the Invite a Friend link -->
                                </svg>Invite a Friend
                            </a>
                        </div>
                        <div>
                            <button type="button" class="text-slate-600 hover:text-slate-700 bg-transparent border-0 m-0 p-0">
                                <svg enable-background="new 0 0 20 20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1.5">
                                    <!-- SVG content for the Contact Support button -->
                                </svg>Contact Support
                            </button>
                        </div>
                    </div>
                    <div style="position: absolute; width: 1px; height: 1px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px; display: none;"></div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Your script and other content goes here -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Retrieve the stored token from localStorage
            const token = localStorage.getItem('token');

            // Make a GET request to the server with the stored token
            fetch('/api/u', {
                method: 'GET',
                headers: {
                    'Authorization': `Bearer ${token}`,
                    'Content-Type': 'application/json',
                },
            })
            .then(response => response.json())
            .then(data => {
                // Display welcome message and user details on the page
                document.getElementById('welcomeMessage').textContent = `Welcome ${data.username}!`;
                document.getElementById('userInfo').innerHTML = `
                    <p>User ID: ${data.uid}</p>
                    <p>Username: ${data.username}</p>
                    <p>Name: ${data.name}</p>
                    <p>Email: ${data.email}</p>
                `;
            })
            .catch(error => {
                console.error('Error:', error);
            });
        });
    </script>
</body>
</html>
